
---

> [!info] Info
> ## Reading-off Solutions from R.E.F. or R.R.E.F.

Both the REF and RREF of an augmented matrix are very useful in identifying solutions. For example, the system of 3 planes:

$$
\begin{cases}
2x_1 + x_2 + 4x_3 = 3 \\
x_2 + 2x_3 = 8 \\
x_1 + 3x_3 = 10
\end{cases}
$$

After applying a series of EROs, we can get its REF form (try doing it yourself):

$$
\left[\begin{array}{ccc|c}
1 & 1 & 5 & 18 \\
0 & 2 & 5 & 14 \\
0 & 0 & 1 & 3
\end{array}\right]
$$

From this, we can read off $x_3 = 3$. Bringing it into row 2, we get:

$$2x_2 + 5x_3 = 14 \Rightarrow 2x_2 + 15 = 14 \Rightarrow x_2 = -\frac{1}{2}$$

and finally to row 1:

$$x_1 + x_2 + 5x_3 = 18 \Rightarrow x_1 - \frac{1}{2} + 15 = 18 \Rightarrow x_1 = 4$$

Or, if we apply more EROs to turn the augmented matrix to its RREF form:

$$
\left[\begin{array}{ccc|c}
1 & 0 & 0 & 4 \\
0 & 1 & 0 & -\frac{1}{2} \\
0 & 0 & 1 & 3
\end{array}\right]
$$

It will directly give us the solution.

**Fun fact:** A matrix has an infinite number of REF forms, but only one equivalent RREF.

> [!quote] Definition
> ## Rank of a Matrix

The <u><strong style="color:#dab1da">rank</strong></u> of a matrix is the number of leading entries in any of its REFs. For a matrix $A$, we write $\text{rank}(A)$.

For example:
$$
\text{rank}\left(\begin{bmatrix}
\color{purple}1 & -1 & 0 & 2 & 1 \\
0 & 0 & \color{purple}1 & 3 & 2 \\
0 & 0 & 0 & 0 & 0
\end{bmatrix}\right) = 2
$$

because there are two **leading entries** (marked purple) in its REF.

> [!fact] Theorem
> ## The System Rank Theorem

Let $A$ be an $m \times n$ matrix and $\vec{b} \in \mathbb{R}^m$:

### Part 1: Consistency Condition

The system is **consistent** if and only if $\text{rank}(A) = \text{rank}([A|\vec{b}])$.

Conversely, if $\text{rank}(A) < \text{rank}([A|\vec{b}])$, the system is **inconsistent**.

This is because whenever $\text{rank}(A) < \text{rank}([A|\vec{b}])$, it means that $[A|\vec{b}]$ has an additional leading entry, forming a row with all zero coefficients and non-zero constant term.

For example:
$$
A = \begin{bmatrix}
\color{purple}1 & 0 & 0 \\
0 & \color{purple}1 & 0 \\
0 & 0 & 0
\end{bmatrix}, \quad \text{rank}(A) = 2
$$

$$
[A|\vec{b}] = \left[\begin{array}{ccc|c}
1 & 0 & 0 & 1 \\
0 & 1 & 0 & 2 \\
0 & 0 & 0 & \color{red}1
\end{array}\right], \quad \text{rank}([A|\vec{b}]) = \color{red}3
$$

In this case, $[A|\vec{b}]$ is apparently inconsistent because the last row indicates that:
$$0x_1 + 0x_2 + 0x_3 = 1 \Rightarrow 0 = 1$$

### Part 2: Counting Free Variables

The **consistent** system $[A|\vec{b}]$ will have:

$$\text{\# free variables} = n - \text{rank}(A)$$

where $n = \text{\# columns} = \text{\# unknowns}$.

This is because each column either has a **leading one** (adding to the rank) or does not have a **leading one** (adding a free variable).

### Part 3: Consistency for All $\vec{b}$

The system $[A|\vec{b}]$ is **always consistent** if and only if $\text{rank}(A) = m$.

This is because when $\text{rank}(A) < m$, the REF of $A$ contains a "zero row" (marked purple):

$$
A = \begin{bmatrix}
1 & -1 \\
0 & 3 \\
\color{purple}0 & \color{purple}0
\end{bmatrix}
$$

And the system:
$$
[A|\vec{b}] = \left[\begin{array}{cc|c}
1 & -1 & b_1 \\
0 & 3 & b_2 \\
\color{purple}0 & \color{purple}0 & \color{red}b_3
\end{array}\right]
$$

will be inconsistent whenever $\color{red}b_3 \neq 0$.

> [!quote] Definition
> ## Under-determined and Over-determined Systems

Given a system $A$ with size $m \times n$, we call it:

#### <u>Under-determined</u>
If $m < n$ (more unknowns than equations).
The system is more likely to have one or more **free variables**.
#### <u>Over-determined</u>
If $m > n$ (more equations than unknowns).
The system is more likely to be **inconsistent**.